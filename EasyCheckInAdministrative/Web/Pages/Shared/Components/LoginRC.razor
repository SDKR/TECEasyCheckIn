
@using Microsoft.AspNetCore.Components.Web
@using Core.Model
@using Core.Model.Enums
@using Web.Services
@using BlazorInputFile
@using Web.Model.Enums
@inject InstructorsService InstructorsService
@inject LoginService LoginService
@inject NavigationManager Navigation

<form method="post" class="form-signin">
    <h1 class="display-3 mb-3">TEC</h1>
    <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>

    <label for="inputEmail" class="sr-only">Email address</label>
    <input @bind="UserInitials" type="text" id="inputInitials" class="form-control" placeholder="Indtast instruktør initialer" required autofocus>

    <label for="inputPassword" class="sr-only">Password</label>
    <input @bind="UserPassword" type="password" id="inputPassword" class="form-control" placeholder="Password" required>

    <button type="button" @onclick="() => AttemptLogin()" class="btn btn-lg btn-primary btn-block">
        Log Ind
    </button>
    <p class="mt-5 mb-3 text-muted">&copy; 2019-2020</p>
</form>

@code {
    public string UserInitials { get; set; } = "";
    public string UserPassword { get; set; } = "";

    private async Task AttemptLogin()
    {
        var loginstate = await LoginService.AttemptLogin(UserInitials);

        //if (loginstate == false)
        //{

        //}
        //else if (loginstate == true)
        //{



        //    Navigation.NavigateTo("/Checkins", true);
        //}
    }
}

